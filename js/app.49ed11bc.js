(function(){"use strict";var t={4795:function(t,e,a){var s=a(6848),r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("router-view")],1)},i=[],n={},o=n,l=a(1656),c=(0,l.A)(o,r,i,!1,null,null,null),u=c.exports,h=(a(1860),a(1981)),d=a(6178),p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("HeadBar"),e("Slider",{attrs:{images:t.images}}),e("Layout"),e("SideNav",{attrs:{list:t.all}})],1)},m=[],g=a(3518),f={name:"NavHome",data(){return{images:["http://localhost:3000/uploads/slider0.png","http://localhost:3000/uploads/slider1.png","http://localhost:3000/uploads/slider2.png"]}},created(){},computed:{...(0,g.aH)("all",["all"])},methods:{...(0,g.i0)("all",["getAll"])}},v=f,y=(0,l.A)(v,p,m,!1,null,"77d49559",null),_=y.exports,k=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("router-view"),e("van-tabbar",{attrs:{"active-color":"#ee0a24"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.routes,(function(a){return e("van-tabbar-item",{key:a.active,attrs:{replace:"",to:{path:a.path,name:a.name},icon:a.icon},on:{click:function(e){return t.store(a.active)}}},[t._v(t._s(a.title))])})),1)],1)},S=[],b={name:"FirstBar",data(){return{active:0,routes:[{path:"/home",active:0,icon:"home-o",title:"首页"},{path:"/female",active:1,icon:"flower-o",title:"女装"},{path:"/male",active:2,icon:"user-o",title:"男装"},{path:"/bag",active:3,icon:"bag-o",title:"箱包"},{path:"/my",active:4,icon:"contact-o",title:"我的"}]}},watch:{$route(t){switch(t.path){case"/home":this.active=0;break;case"/female":this.active=1;break;case"/male":this.active=2;break;case"/bag":this.active=3;break;case"/my":this.active=4;break;default:this.active=0}}},methods:{store(t){localStorage.setItem("active",t)}},created(){this.active=Number(localStorage.getItem("active"))}},A=b,C=(0,l.A)(A,k,S,!1,null,"090588a5",null),N=C.exports,x=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("HeadBar"),e("h3",[t._v("女装")]),e("TabNav",{attrs:{Fn:t.getFemale}})],1)},w=[],I={name:"NavFemale",created(){this.getFemale()},methods:{...(0,g.i0)("female",["getFemale"])},computed:{...(0,g.aH)("female",["female"])}},O=I,$=(0,l.A)(O,x,w,!1,null,"247b23f1",null),z=$.exports,J=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("HeadBar"),e("h3",[t._v("男装")]),e("TabNav",{attrs:{Fn:t.getMale}})],1)},L=[],q={name:"NavMale",data(){return{}},created(){this.getMale()},computed:{...(0,g.aH)(["male","male"])},methods:{...(0,g.i0)("male",["getMale"])}},M=q,P=(0,l.A)(M,J,L,!1,null,"f7a7559c",null),H=P.exports,B=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[t.loading?e("div",[e("van-skeleton",{attrs:{avatar:"","avatar-size":"40px",title:"","title-width":"80%",row:"0"}}),e("van-skeleton",{attrs:{row:"3"}}),e("van-skeleton",{attrs:{title:"","title-width":"80%",row:"20"}}),e("van-skeleton",{attrs:{row:"3"}})],1):e("div",[e("UserManage"),e("AllMoney"),e("MyOrder")],1),e("Recommend")],1)},T=[],F={name:"NavMy",mounted(){this.loading=!1},data(){return{loading:!0}}},j=F,E=(0,l.A)(j,B,T,!1,null,"330ca781",null),U=E.exports,D=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("HeadBar"),e("h3",[t._v("箱包")]),e("TabNav",{attrs:{Fn:t.getBag}})],1)},R=[],Q={name:"NavBag",created(){this.getBag()},data(){return{list:[]}},computed:{...(0,g.aH)("bag",["bag"])},methods:{...(0,g.i0)("bag",["getBag"])}},Y=Q,V=(0,l.A)(Y,D,R,!1,null,"de6ebb00",null),G=V.exports,W=(a(4114),function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("div",[e("van-nav-bar",{attrs:{title:"用户登录","left-text":"返回","left-arrow":""},on:{"click-left":function(e){t.$router.go(-1)||t.$router.push("/my")}}}),e("van-popup",{staticStyle:{"text-align":"center","line-height":"100px"},style:{height:"15%"},attrs:{position:"top"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t._v(t._s(t.code.message+":"+t.code.code))]),e("UserFormLogin")],1)])}),K=[],X={name:"Login",methods:{},computed:{...(0,g.aH)("user",["user","code"])},created(){},data(){return{show:!1}},watch:{code(){this.show=!0}}},Z=X,tt=(0,l.A)(Z,W,K,!1,null,"3ffd3e9f",null),et=tt.exports,at=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("van-nav-bar",{attrs:{"left-text":"返回","left-arrow":""},on:{"click-left":function(e){t.$router.go(-1)||t.$router.push("/home")}},scopedSlots:t._u([{key:"right",fn:function(){return[e("van-search",{attrs:{placeholder:"请输入搜索关键词"}})]},proxy:!0}])}),t.loading?e("div",[e("van-skeleton",{attrs:{title:"","title-width":"40%"}}),0===t.cart.length?e("van-skeleton",{staticStyle:{"flex-direction":"column","align-items":"center"},attrs:{avatar:"","avatar-shape":"square","avatar-size":"80px"}}):e("div",t._l(t.cart,(function(t){return e("van-skeleton",{key:t.id,attrs:{avatar:"","avatar-size":"80px","avatar-shape":"square",row:"2"}})})),1),e("van-skeleton",{staticStyle:{position:"fixed",bottom:"0",left:"0",width:"100%"},attrs:{row:"3"}})],1):e("div",[e("CartTitle"),t._l(t.safeCart,(function(a){return e("CartList",{key:a.productId,attrs:{img:a.img,name:a.name,price:a.price,color:a.color,size:a.size,quantity:a.quantity,other:a.other,id:a.productId,checked:t.checked},on:{change:t.handlerChange,add:t.handlerAdd}})})),e("CartEmpty",{directives:[{name:"show",rawName:"v-show",value:0==t.safeCart.length,expression:"safeCart.length == 0"}]}),e("van-submit-bar",{attrs:{price:t.safeTotalPrice,"button-text":"提交订单"},on:{submit:t.payOrder},scopedSlots:t._u([{key:"tip",fn:function(){return[t._v(" 你的收货地址不支持同城送, "),e("span",[t._v("修改地址")])]},proxy:!0}])},[e("van-checkbox",{on:{click:t.select},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}},[t._v("全选")])],1)],2)],1)},st=[];a(8111),a(2489),a(116),a(1701);const rt=new s["default"];var it=rt,nt={computed:{...(0,g.aH)("cart",["cart"]),safeCart(){return this.cart||[]},...(0,g.L8)("cart",["totalPrice"]),safeTotalPrice:{get(){return 0===this.totalPrice?JSON.parse(localStorage.getItem("totalPrice")):this.totalPrice},set(t){localStorage.setItem("totalPrice",t)}},selectAll:{get(){return this.checked.length===JSON.parse(localStorage.getItem("cart")).length},set(t){this.checked=t?JSON.parse(localStorage.getItem("cart")).map((t=>t.productId)):[]}}},methods:{...(0,g.i0)("cart",["getCart","deleteCart"]),...(0,g.PY)("cart",["getSelectCart"]),handlerChange(t){this.checkedList.length<=this.cart.length&&this.checked.length===this.checkedList.length?this.checked.includes(t)?(this.checked.splice(this.checked.indexOf(t),1),this.checkedList.splice(this.checkedList.findIndex((e=>e.productId===t)),1)):(this.checked.push(t),this.checkedList.push(this.cart.find((e=>e.productId===t)))):this.checkedList=this.cart.filter((t=>this.checked.includes(t.productId))),localStorage.setItem("selectCart",JSON.stringify(this.checked)),localStorage.setItem("selectList",JSON.stringify(this.checkedList)),this.getSelectCart(this.checkedList)},handlerAdd(t){this.checked.push(JSON.parse(localStorage.getItem("cart")).find((e=>e.productId===t)))},payOrder(){this.needPayMoney=this.safeTotalPrice,this.currentMoney=JSON.parse(localStorage.getItem("msg")).totalAssets,this.lastMoney=this.currentMoney-this.needPayMoney,this.currentMoney<this.needPayMoney?this.$toast.fail("余额不足"):(this.toDeleteCartList=JSON.parse(localStorage.getItem("cart")).map((t=>({productId:t.productId,size:t.size}))),console.log(this.toDeleteCartList),this.deleteCart({phoneNumber:JSON.parse(localStorage.getItem("msg")).phoneNumber,products:this.toDeleteCartList}).then((()=>{localStorage.setItem("msg",JSON.stringify({totalAssets:this.lastMoney,phoneNumber:JSON.parse(localStorage.getItem("msg")).phoneNumber,userName:JSON.parse(localStorage.getItem("msg")).userName})),this.$toast.success("支付成功"),this.$toast.success("感谢你的购买"),this.getCart(JSON.parse(localStorage.getItem("msg")).phoneNumber).then((t=>{localStorage.setItem("cart",JSON.stringify(t.data.data))}))})).catch((()=>{this.$toast.fail("购买失败")})))},select(){this.selectAll?(this.cartList=this.cart,this.getSelectCart(this.cartList),localStorage.setItem("selectCart",JSON.stringify(this.cartList.map((t=>t.productId))))):(this.getSelectCart([]),localStorage.setItem("selectCart",JSON.stringify([])))}},created(){this.getCart(JSON.parse(localStorage.getItem("msg")).phoneNumber),this.checked=JSON.parse(localStorage.getItem("selectCart"))||[],this.checkedList=JSON.parse(localStorage.getItem("selectList"))||[],this.safeTotalPrice=JSON.parse(localStorage.getItem("totalPrice"))||0,it.$on("updateCart",(t=>{this.checked=t.map((t=>t.productId)),localStorage.setItem("selectCart",JSON.stringify(this.checked))}))},data(){return{needPayMoney:null,lastMoney:null,currentMoney:null,toDeleteCartList:[],cartList:[],checked:[],checkedList:[],loading:!0}},watch:{totalPrice(t){localStorage.setItem("totalPrice",t)}},mounted(){this.loading=!1}},ot=nt,lt=(0,l.A)(ot,at,st,!1,null,"493453f4",null),ct=lt.exports,ut=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("van-nav-bar",{attrs:{"left-arrow":""},on:{"click-left":function(e){t.$router.go(-1)||t.$router.push("/home")}}}),t.loading?e("div",[e("van-skeleton",{attrs:{avatar:"","avatar-shape":"square",loading:t.loading}}),e("van-skeleton",{staticStyle:{"margin-top":"10px"},attrs:{row:"10",title:"","title-width":"80%"}})],1):e("div",[e("ShopListChose"),e("ShopList")],1)],1)},ht=[],dt={computed:{...(0,g.aH)("cart",["show"])},methods:{...(0,g.PY)("cart",["makeShow","makeHide"])},created(){},data(){return{loading:!0}},mounted(){this.loading=!1}},pt=dt,mt=(0,l.A)(pt,ut,ht,!1,null,"e56c492a",null),gt=mt.exports,ft=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("div",[e("van-nav-bar",{attrs:{title:"用户注册","left-text":"返回","left-arrow":""},on:{"click-left":function(e){t.$router.go(-1)||t.$router.push("/my")}}}),e("van-popup",{staticStyle:{"text-align":"center","line-height":"100px"},style:{height:"15%"},attrs:{position:"top"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t._v(t._s(t.code.message+":"+t.code.code))]),e("UserForm")],1)])},vt=[],yt={name:"Login",methods:{},computed:{...(0,g.aH)("user",["user","code"])},watch:{code(){this.show=!0}},data(){return{show:!1}}},_t=yt,kt=(0,l.A)(_t,ft,vt,!1,null,"7e298cb4",null),St=kt.exports,bt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("SearchTitle"),e("router-view")],1)},At=[],Ct={created(){},data(){return{}}},Nt=Ct,xt=(0,l.A)(Nt,bt,At,!1,null,"74bad893",null),wt=xt.exports,It=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[t.loading?e("div",[e("van-skeleton",{staticStyle:{height:"50px"},attrs:{title:"","title-width":"30%"}}),e("van-skeleton",{staticStyle:{width:"80%"},attrs:{row:t.list.length}})],1):e("div",[e("van-cell",{attrs:{value:"猜你想搜"}}),e("div",{staticClass:"search-content"},t._l(t.list,(function(a){return e("router-link",{key:a.id,attrs:{to:{path:"/singleshop",query:{name:a.name,price:a.price,img:a.image,original_price:a.original_price,status_desc:a.status_desc,gifts:JSON.stringify(a.gifts),other:JSON.stringify(a.other),sell:a.sell,count:a.count,color:JSON.stringify(a.color),sizes:JSON.stringify(a.sizes),id:a.id}}}},[e("van-cell",{staticClass:"search-item",attrs:{title:a.name},scopedSlots:t._u([{key:"icon",fn:function(){return[e("van-icon",{staticClass:"search-icon",attrs:{name:"search"}})]},proxy:!0}],null,!0)})],1)})),1)],1)])},Ot=[],$t={name:"SearchContent",created(){it.$on("search",(t=>{this.list=t})),this.list=JSON.parse(localStorage.getItem("search"))?JSON.parse(localStorage.getItem("search")).list:[]},data(){return{list:[],loading:!0}},mounted(){this.loading=!1}},zt=$t,Jt=(0,l.A)(zt,It,Ot,!1,null,"acfe9d14",null),Lt=Jt.exports,qt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("SearchHistory"),e("SearchRecommond")],1)},Mt=[],Pt={},Ht=Pt,Bt=(0,l.A)(Ht,qt,Mt,!1,null,null,null),Tt=Bt.exports;s["default"].use(d.Ay);const Ft=[{path:"/",component:N,redirect:"/home",children:[{path:"/home",component:_},{path:"/female",component:z},{path:"/male",component:H},{path:"/my",component:U},{path:"/bag",component:G},{path:"/cart",component:ct}]},{path:"/login",component:et},{path:"/register",component:St},{path:"/singleshop",component:gt},{path:"/search",component:wt,redirect:"/searchrecommond",children:[{path:"/searchcontent",component:Lt},{path:"/searchrecommond",component:Tt}]}],jt=new d.Ay({routes:Ft});jt.beforeEach(((t,e,a)=>{const s=JSON.parse(localStorage.getItem("msg")).phoneNumber;"/cart"!==t.path||s?"/singleshop"!==t.path||s?a():(h.A.fail("请先登录"),a("login")):(h.A.fail("请先登录"),a("/login"))}));var Et=jt,Ut=a(4373);async function Dt(t){return await Ut.A.get(`http://localhost:3000/api/data/female?size=${t.size}&offset=${t.offset}`)}async function Rt(t){return await Ut.A.get(`http://localhost:3000/api/data/male?size=${t.size}&offset=${t.offset}`)}async function Qt(t){return await Ut.A.get(`http://localhost:3000/api/data/bag?size=${t.size}&offset=${t.offset}`)}async function Yt(t){return await Ut.A.get(`http://localhost:3000/api/data/all?size=${t.size}&offset=${t.offset}`)}async function Vt(t){return await Ut.A.get(`http://localhost:3000/api/cart?phoneNumber=${t}`)}async function Gt(t){return await Ut.A.post("http://localhost:3000/api/cart/add",t)}async function Wt(t){return await Ut.A.post("http://localhost:3000/api/cart/delete",t)}async function Kt(t){return await Ut.A.post("http://localhost:3000/api/login",t)}async function Xt(t){return await Ut.A.post("http://localhost:3000/api/register",t)}async function Zt(t){return await Ut.A.post("http://localhost:3000/api/verCode",t)}const te={female:[]},ee={},ae={setFemale(t,e){t.female=e}},se={getFemale(t,e){return Dt(e).then((e=>(t.commit("setFemale",e.data.data.data),e))).catch((t=>t))}};var re={namespaced:!0,state:te,getters:ee,mutations:ae,actions:se};const ie={male:[]},ne={setMale(t,e){t.male=e}},oe={getMale(t,e){return Rt(e).then((e=>(t.commit("setMale",e.data.data.data),e))).catch((t=>(console.log(t),t)))}},le={};var ce={namespaced:!0,state:ie,mutations:ne,actions:oe,getters:le};const ue={bag:[]},he={},de={setBag(t,e){t.bag=e}},pe={getBag(t,e){return Qt(e).then((e=>(t.commit("setBag",e.data.data.data),e))).catch((t=>(console.log(t),t)))}};var me={namespaced:!0,state:ue,getters:he,mutations:de,actions:pe};a(7588),a(8237);const ge={cart:[],show:!1,selectCart:[]},fe={makeShow(t){t.show=!t.show},makeHide(t){t.show=!1},setCart(t,e){t.cart=e},addSetCart(t,e){t.cart=e},changeQuantity(t,e){t.cart.forEach((t=>{t.productId===e.id&&(e.quantity<1&&(e.quantity=1),"set"===e.flag?(console.log("cart set"),t.quantity=e.quantity):(t.quantity+=e.quantity,console.log("cart change")))}))},deleteSetCart(t,e){t.cart=e},getSelectCart(t,e){t.selectCart=e}},ve={getCart(t,e){return Vt(e).then((e=>(t.commit("setCart",e.data.data),e))).catch((t=>{console.log(t)}))},addCart(t,e){Gt(e).then((e=>{t.commit("addSetCart",e)}))},deleteCart(t,e){return Wt(e).then((e=>(t.commit("deleteSetCart",e.data.data),e)))}},ye={totalPrice(t){return Array.isArray(t.selectCart)&&"object"===typeof t.selectCart?t.selectCart.reduce(((t,e)=>t+100*e.price*e.quantity),0):0}};var _e={namespaced:!0,state:ge,mutations:fe,actions:ve,getters:ye};const ke={all:[]},Se={setAll(t,e){t.all=e}},be={getAll(t,e){return Yt(e).then((e=>(t.commit("setAll",e.data.data.data),e))).catch((t=>t))}},Ae={};var Ce={namespaced:!0,state:ke,mutations:Se,actions:be,getters:Ae};const Ne={user:[],currentUser:{},code:""},xe={},we={setLogin(t,e){},setVerCode(t,e){t.code=e},setRegister(t,e){t.user.push(e.data)}},Ie={login(t,e){return Kt(e).then((e=>(t.commit("setLogin",e.data),e)))},verCode(t,e){Zt(e).then((e=>{t.commit("setVerCode",e.data),console.log(e.data.message)})).catch((t=>{console.log(t)}))},register(t,e){return Xt(e).then((e=>(t.commit("setRegister",e.data),e)))}};var Oe={namespaced:!0,state:Ne,getters:xe,mutations:we,actions:Ie};s["default"].use(g.Ay);var $e=new g.Ay.Store({state:{},getters:{},mutations:{},actions:{},modules:{female:re,male:ce,bag:me,cart:_e,all:Ce,user:Oe}});let ze=0,Je=null;Ut.A.interceptors.request.use((t=>(t.url.includes("/images/")||(0===ze&&(Je=h.A.loading({message:"加载中...",forbidClick:!0,duration:0})),ze++),t)),(t=>Promise.reject(t))),Ut.A.interceptors.response.use((t=>(ze--,ze<=0&&Je?.clear(),t)),(t=>(ze--,ze<=0&&Je?.clear(),h.A.fail(t.message||"请求失败"),Promise.reject(t))));var Le=Ut.A,qe=a(1443),Me=a.n(qe),Pe=a(2063),He=a.n(Pe);s["default"].use(He()),s["default"].use(Me());a(1151);var Be=a(339),Te=(a(27),a(1281)),Fe=(a(3093),a(5187)),je=(a(5006),a(7304)),Ee=(a(4674),a(6411)),Ue=(a(9964),a(5158)),De=(a(4534),a(5232)),Re=(a(4368),a(8890)),Qe=(a(5807),a(1747)),Ye=(a(3251),a(9103)),Ve=(a(7452),a(6254)),Ge=(a(5194),a(6732)),We=(a(4463),a(8933)),Ke=(a(2564),a(1510)),Xe=(a(3050),a(3580)),Ze=(a(8798),a(932)),ta=(a(7503),a(1785)),ea=(a(4510),a(1864)),aa=(a(6879),a(4629)),sa=(a(6117),a(7555)),ra=(a(6291),a(4249)),ia=(a(9125),a(2665)),na=(a(9851),a(1431)),oa=(a(3373),a(3761)),la=(a(7219),a(1279)),ca=(a(7141),a(5497)),ua=(a(7185),a(1946)),ha=(a(2161),a(9471)),da=(a(2400),a(1562)),pa=(a(3212),a(6874)),ma=(a(4374),a(6060)),ga=(a(8849),a(8525)),fa=(a(215),a(7819)),va=(a(1215),a(5283)),ya=(a(2512),a(6852)),_a=(a(440),a(162)),ka=(a(3425),a(6141)),Sa=(a(7231),a(9363)),ba=(a(3239),a(6749)),Aa=(a(6933),a(7235));s["default"].use(Aa.A),s["default"].use(ba.A),s["default"].use(Sa.A),s["default"].use(ka.A),s["default"].use(_a.A),s["default"].use(ya.A),s["default"].use(va.A),s["default"].use(fa.A),s["default"].use(ga.A),s["default"].use(ma.A),s["default"].use(pa.A),s["default"].use(da.A),s["default"].use(ha.A),s["default"].use(ua.A),s["default"].use(ca.A),s["default"].use(la.A),s["default"].use(oa.A),s["default"].use(na.A),s["default"].use(ia.A),s["default"].use(ra.A),s["default"].use(sa.A),s["default"].use(aa.A),s["default"].use(ea.A),s["default"].use(ta.A),s["default"].use(Ze.A),s["default"].use(Xe.A),s["default"].use(Ke.A),s["default"].use(We.A),s["default"].use(Ge.A),s["default"].use(Ve.A),s["default"].use(Ye.A),s["default"].use(Qe.A),s["default"].use(Re.A),s["default"].use(De.A),s["default"].use(Ue.A),s["default"].use(Ee.A),s["default"].use(je.A),s["default"].use(Fe.A),s["default"].use(Te.A),s["default"].use(Be.A);var Ca=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("van-tabs",{on:{click:function(e){return t.changeContent()}},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[e("van-tab",{attrs:{title:"全部"}},[e("div",{staticClass:"content"},[e("van-list",{attrs:{finished:t.finished},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.listArray,(function(t){return e("Produce",{key:t.id,attrs:{name:t.name,price:t.price,img:t.image,original_price:t.original_price,status_desc:t.status_desc,gifts:t.gifts,other:t.other,sell:t.sell,count:t.count,color:t.color,sizes:t.sizes,id:t.id}})})),1)],1)]),e("van-tab",{attrs:{title:"销量"}},[e("div",{staticClass:"content"},[e("van-list",{attrs:{finished:t.finished},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.sellArray,(function(t){return e("Produce",{key:t.id,attrs:{name:t.name,price:t.price,img:t.image,original_price:t.original_price,status_desc:t.status_desc,gifts:t.gifts,other:t.other,sell:t.sell,count:t.count,color:t.color,sizes:t.sizes,id:t.id}})})),1)],1)]),e("van-tab",{attrs:{title:"最新"}},[e("div",{staticClass:"content"},[e("van-list",{attrs:{finished:t.finished},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.newArray,(function(t){return e("Produce",{key:t.id,attrs:{name:t.name,price:t.price,img:t.image,original_price:t.original_price,status_desc:t.status_desc,gifts:t.gifts,other:t.other,sell:t.sell,count:t.count,color:t.color,sizes:t.sizes,id:t.id}})})),1)],1)]),e("van-tab",{attrs:{title:"特价"}},[e("van-list",{attrs:{finished:t.finished},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[e("div",{staticClass:"content"},t._l(t.priceArray,(function(t){return e("Produce",{key:t.id,attrs:{name:t.name,price:t.price,img:t.image,original_price:t.original_price,status_desc:t.status_desc,gifts:t.gifts,other:t.other,sell:t.sell,count:t.count,color:t.color,sizes:t.sizes,id:t.id}})})),1)])],1)],1)],1)},Na=[],xa={name:"TabNav",data(){return{active:0,listArray:[],size:4,loading:!1,finished:!1,totalItems:0,page:1,sellArray:[],newArray:[],priceArray:[]}},props:{Fn:Function},created(){this.Fn({size:this.size,offset:this.page})},methods:{changeContent(){switch(this.active){case 1:this.sellArray=this.listArray.filter((t=>t.sell>100));break;case 2:this.newArray=this.listArray.filter((t=>"预售中"===t.status_desc));break;case 3:this.priceArray=this.listArray.filter((t=>t.price<300));break;default:break}},async onLoad(){try{this.loading=!0,this.listArray||(this.listArray=[]);const t=await this.Fn({size:this.size,offset:this.page});if(this.totalItems=t.data.data.total,this.listArray.push(...t.data.data.data),this.page+=1,this.listArray.length>=this.totalItems)return void(this.finished=!0)}catch(t){console.log(t),this.finished=!0}finally{this.loading=!1}}},computed:{}},wa=xa,Ia=(0,l.A)(wa,Ca,Na,!1,null,null,null),Oa=Ia.exports,$a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("van-row",[e("van-col",{attrs:{span:"3"}},[e("router-link",{attrs:{to:"/home"}},[e("van-image",{attrs:{width:"10vw",height:"10vw",src:"http://localhost:3000/uploads/logo.png"}})],1)],1),e("van-col",{attrs:{span:"14"}},[e("van-search",{attrs:{"show-action":"",placeholder:"请输入搜索关键词"},on:{focus:t.goSearch},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),e("van-col",{attrs:{span:"3"}},[e("router-link",{attrs:{to:"/cart"}},[e("van-badge",{attrs:{content:0===t.num?null:t.num}},[e("van-icon",{attrs:{name:"shopping-cart-o"}})],1)],1)],1)],1)],1)},za=[],Ja={name:"HeadBar",data(){return{value:"",num:0}},computed:{safeCart(){return this.cart.cart||[]}},created(){this.num=JSON.parse(localStorage.getItem("cart")).length||0},methods:{goSearch(){this.$router.push("/search")}}},La=Ja,qa=(0,l.A)(La,$a,za,!1,null,"80f71070",null),Ma=qa.exports,Pa=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("van-sidebar",{on:{change:t.changeContent},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[e("van-sidebar-item",{attrs:{title:"全部商品"}}),e("van-sidebar-item",{attrs:{title:"流行商品"}}),e("van-sidebar-item",{attrs:{title:"预售商品"}}),e("van-sidebar-item",{attrs:{title:"特价商品"}})],1),e("div",{staticClass:"content"},[e("van-list",{attrs:{finished:t.finished},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(0===t.active?t.listArray:[],(function(t){return e("Produce",{key:t.id,attrs:{name:t.name,price:t.price,img:t.image,original_price:t.original_price,status_desc:t.status_desc,gifts:t.gifts,other:t.other,id:t.id,sell:t.sell,count:t.count,color:t.color,sizes:t.sizes}})})),1),t._v(" div ")],1)],1)},Ha=[],Ba={data(){return{active:0,loading:!1,finished:!1,listArray:[],page:1,pageSize:4,totalItems:0}},computed:{...(0,g.aH)("all",["all"])},methods:{...(0,g.i0)("all",["getAll"]),changeContent(){switch(this.active){case 0:this.listArray=this.list;break;case 1:this.listArray=this.list.filter((t=>"在售中"===t.status_desc));break;case 2:this.listArray=this.list.filter((t=>"预售中"===t.status_desc));break;case 3:this.listArray=this.list.filter((t=>null!==t.original_price));break;default:break}},async onLoad(){try{this.loading=!0,this.listArray||(this.listArray=[]);const t=await this.getAll({size:this.pageSize,offset:this.page});this.totalItems=t.data.data.total,this.listArray.push(...t.data.data.data),this.page+=1,this.listArray.length>=this.totalItems&&(this.finished=!0)}catch(t){console.error("Error in onLoad:",t),this.finished=!0}finally{this.loading=!1}}},created(){this.getAll({size:this.pageSize,offset:this.page})},props:{list:Array},mounted(){}},Ta=Ba,Fa=(0,l.A)(Ta,Pa,Ha,!1,null,"117c523a",null),ja=Fa.exports,Ea=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.images,(function(t){return e("van-swipe-item",{key:t},[e("img",{attrs:{src:t,alt:""}})])})),1)],1)},Ua=[],Da={data(){return{active:0}},props:{images:Array}},Ra=Da,Qa=(0,l.A)(Ra,Ea,Ua,!1,null,"59180338",null),Ya=Qa.exports,Va=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("router-link",{attrs:{to:{path:"/singleshop",query:{id:t.id,name:t.name,price:t.price,original_price:t.original_price,img:t.img,status_desc:t.status_desc,gifts:JSON.stringify(t.gifts),other:JSON.stringify(t.other),count:t.count,sell:t.sell,color:JSON.stringify(t.color),sizes:JSON.stringify(t.sizes)}}}},[e("van-row",[e("van-col",{attrs:{span:"25"}},[e("van-card",{attrs:{price:t.price,title:t.name,"origin-price":t.original_price,thumb:t.img,"lazy-load":""},scopedSlots:t._u([{key:"tags",fn:function(){return[t._l(t.gifts,(function(a){return e("span",{directives:[{name:"show",rawName:"v-show",value:t.gifts.length,expression:"gifts.length"}],key:a.gift_id,staticClass:"gift"},[t._v("赠品："+t._s(a.gift_name)+" ")])})),t._l(t.other,(function(a){return e("span",{key:a,staticClass:"other"},[t._v(t._s(a))])}))]},proxy:!0},{key:"tag",fn:function(){return[e("span",{staticClass:"van-tag van-tag--mark",class:{"van-tag--primary":"预售中"===t.status_desc,"van-tag--danger":"热卖中"===t.status_desc,"van-tag--default":"已售罄"===t.status_desc,"van-tag--success":"在售中"===t.status_desc}},[t._v(t._s(t.status_desc))])]},proxy:!0}])})],1),e("van-col",{attrs:{span:"24"}})],1)],1)],1)},Ga=[],Wa={props:{name:String,price:Number,original_price:Number,img:String,status_desc:String,gifts:Array,other:Array,count:Number,sell:Number,color:Array,sizes:Array,id:String},computed:{},data(){return{}},created(){}},Ka=Wa,Xa=(0,l.A)(Ka,Va,Ga,!1,null,"42e311d2",null),Za=Xa.exports,ts=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("van-row",t._l(t.images,(function(a){return e("van-col",{key:a.src,attrs:{span:a.span},on:{click:function(e){return t.click(a.router)}}},[e("router-link",{attrs:{to:a.router}},[e("van-image",{attrs:{width:"98%",height:"98%",fit:"cover",src:a.src}}),e("span",[t._v(t._s(a.content))])],1)],1)})),1)],1)},es=[],as=a(6587),ss=a.n(as),rs={name:"Layout",data(){return{images:[{src:"http://localhost:3000/uploads/home-content1.png",span:12,content:"男装",router:"/male"},{src:"http://localhost:3000/uploads/home-content2.png",span:6,content:"推荐",router:"/"},{src:"http://localhost:3000/uploads/home-content3.png",span:6,content:"首页",router:"/home"},{src:"http://localhost:3000/uploads/home-content4.png",span:6,content:"特价",router:"/"},{src:"http://localhost:3000/uploads/home-content5.png",span:6,content:"箱包",router:"/bag"},{src:"http://localhost:3000/uploads/home-content6.png",span:12,content:"女装",router:"/female"}]}},methods:{click(t){"/"===t&&ss()("body,html").animate({scrollTop:410},500)}}},is=rs,ns=(0,l.A)(is,ts,es,!1,null,"3c5465a2",null),os=ns.exports,ls=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("van-row",[e("van-col",{attrs:{span:"10"}},[e("van-cell",{attrs:{title:"我的总资产","is-link":""}}),e("span",{staticClass:"price"},[t._v("￥"+t._s(t.totalAssets))])],1),e("van-col",{attrs:{span:"7"}},[e("van-cell",{attrs:{title:"红包","is-link":""}}),e("span",{staticClass:"price"},[t._v("￥0.00")])],1),e("van-col",{attrs:{span:"7"}},[e("van-cell",{attrs:{title:"优惠券","is-link":""}}),e("span",{staticClass:"price"},[t._v("￥0.00")])],1)],1)],1)},cs=[],us={created(){this.totalAssets=JSON.parse(localStorage.getItem("msg")).totalAssets/100||null},data(){return{tatoalAssets:0}}},hs=us,ds=(0,l.A)(hs,ls,cs,!1,null,"59a5bf56",null),ps=ds.exports,ms=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("van-cell",{attrs:{title:"我的订单","is-link":""}}),e("van-grid",[e("van-grid-item",{attrs:{to:"/",icon:"bill-o",text:"待付款"}}),e("van-grid-item",{attrs:{to:"/",icon:"send-gift-o",text:"待发货"}}),e("van-grid-item",{attrs:{to:"/",icon:"logistics",text:"待收货"}}),e("van-grid-item",{attrs:{to:"/",icon:"chat-o",text:"待评价"}}),e("van-grid-item",{attrs:{to:"/",icon:"after-sale",text:"退款/售后"}})],1)],1)},gs=[],fs={},vs=fs,ys=(0,l.A)(vs,ms,gs,!1,null,null,null),_s=ys.exports,ks=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("van-row",[e("van-col",{attrs:{span:"10"}},[e("router-link",{attrs:{to:"/login"}},[e("van-image",{attrs:{round:"",width:"10vw",height:"10vw",src:t.msg.uploader}}),e("span",[t._v(t._s(t.msg.userName))])],1)],1),e("van-col",{attrs:{span:"6"}},[e("router-link",{attrs:{to:"/login"}},[t._v(" 登录/切换账号 ")])],1),e("van-col",{attrs:{span:"4"}},[e("router-link",{attrs:{to:"/register"}},[t._v(" 注册 ")])],1),e("van-col",{attrs:{span:"4"},on:{click:t.exit}},[e("a",[t._v(" 登出 ")])])],1)],1)},Ss=[],bs={methods:{exit(){localStorage.setItem("msg",JSON.stringify({uploader:"https://img.yzcdn.cn/vant/user-inactive.png",userName:"未登录"})),this.$router.push("/login")}},data(){return{msg:[]}},created(){this.msg=JSON.parse(localStorage.getItem("msg"))||{uploader:"https://img.yzcdn.cn/vant/user-inactive.png",userName:"未登录"}}},As=bs,Cs=(0,l.A)(As,ks,Ss,!1,null,"a57cf9de",null),Ns=Cs.exports,xs=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("van-tabs",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[e("van-tab",{attrs:{title:"猜你喜欢"},scopedSlots:t._u([{key:"title",fn:function(){return[e("van-icon",{attrs:{name:"smile-o"}}),t._v("猜你喜欢")]},proxy:!0}])},[e("div",{staticClass:"content"},[e("van-list",{attrs:{finished:t.finished},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.listArray,(function(t){return e("Produce",{key:t.id,attrs:{name:t.name,price:t.price,img:t.image,original_price:t.original_price,status_desc:t.status_desc,gifts:t.gifts,other:t.other,sell:t.sell,count:t.count,color:t.color,sizes:t.sizes,id:t.id}})})),1)],1)]),e("van-tab",{attrs:{title:"热门推荐"},scopedSlots:t._u([{key:"title",fn:function(){return[e("van-icon",{attrs:{name:"fire-o"}}),t._v("热门推荐")]},proxy:!0}])},[e("div",{staticClass:"content"},[e("van-list",{attrs:{finished:t.finished},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.hot,(function(t){return e("Produce",{key:t.id,attrs:{name:t.name,price:t.price,img:t.image,original_price:t.original_price,status_desc:t.status_desc,gifts:t.gifts,other:t.other,sell:t.sell,count:t.count,color:t.color,sizes:t.sizes,id:t.id}})})),1)],1)])],1)],1)},ws=[],Is={data(){return{active:0,guess:[],hot:[],loading:!1,finished:!1,page:1,size:10,listArray:[]}},computed:{...(0,g.aH)("all",["all"])},created(){this.getAll({offset:this.page,size:this.size}),this.guess=this.all.filter((t=>"在售中"===t.status_desc))},watch:{active(t){0===t?this.guess=this.listArray.filter((t=>"在售中"===t.status_desc)):this.hot=this.listArray.filter((t=>"热卖中"===t.status_desc))}},methods:{...(0,g.i0)("all",["getAll"]),async onLoad(){try{this.loading=!0,this.listArray||(this.listArray=[]);const t=await this.getAll({size:this.pageSize,offset:this.page});this.totalItems=t.data.data.total,this.listArray.push(...t.data.data.data),this.page+=1,this.listArray.length>=this.totalItems&&(this.finished=!0)}catch(t){console.error("Error in onLoad:",t),this.finished=!0}finally{this.loading=!1}}}},Os=Is,$s=(0,l.A)(Os,xs,ws,!1,null,null,null),zs=$s.exports,Js=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("van-row",[e("van-col",{attrs:{span:"8"}},[e("van-cell",{attrs:{title:"我的购物车","is-link":""}})],1)],1)],1)},Ls=[],qs={},Ms=qs,Ps=(0,l.A)(Ms,Js,Ls,!1,null,null,null),Hs=Ps.exports,Bs=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("van-row",[e("van-col",{attrs:{span:"3"}},[e("van-checkbox-group",{ref:"checkboxGroup",attrs:{value:t.checked}},[e("van-checkbox",{attrs:{name:t.id},on:{click:function(e){return t.handleChange(t.id)}}})],1)],1),e("van-col",{attrs:{span:"21"}},[e("van-icon",{attrs:{name:"cross"},on:{click:function(e){return t.deleteItem({size:t.size,id:t.id})}}}),e("van-card",{attrs:{price:t.price,title:t.name,thumb:t.img},scopedSlots:t._u([{key:"desc",fn:function(){return[e("div",t._l(t.other,(function(a){return e("span",{key:a,staticClass:"other"},[t._v(t._s(a))])})),0)]},proxy:!0},{key:"tags",fn:function(){return[e("div",[e("van-tag",{staticClass:"sku",attrs:{plain:"",type:"primary"}},[t._v(t._s(t.color)+" ")]),e("van-tag",{staticClass:"sku",attrs:{plain:"",type:"primary"}},[t._v(t._s(t.size)+" ")])],1)]},proxy:!0},{key:"footer",fn:function(){return[e("van-stepper",{attrs:{integer:""},on:{plus:function(e){return t.sub(t.id)},minus:function(e){return t.sub(t.id)},blur:function(e){return t.set(t.id)}},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})]},proxy:!0}])},[e("br")])],1)],1)],1)},Ts=[],Fs={created(){this.num=this.quantity},props:{name:String,img:String,price:Number,quantity:Number,color:String,size:String,other:Array,id:String,checked:Array},data(){return{num:0,others:[],result:[!0],timer:null}},computed:{},methods:{...(0,g.PY)("cart",["changeQuantity","getSelectCart"]),...(0,g.i0)("cart",["deleteCart","getCart"]),add(t){this.changeQuantity({id:t,quantity:-1,flag:"add"})},sub(t){this.changeQuantity({id:t,quantity:-1,flag:"sub"})},set(t){this.changeQuantity({id:t,quantity:this.num,flag:"set"})},deleteItem(t){this.deleteCart({phoneNumber:JSON.parse(localStorage.getItem("msg")).phoneNumber,products:[{productId:t.id,size:t.size}]}).then((async t=>{this.$toast.success(t.data),await this.getCart(JSON.parse(localStorage.getItem("msg")).phoneNumber).then((t=>{localStorage.setItem("cart",JSON.stringify(t.data.data)),this.checkedList=JSON.parse(localStorage.getItem("cart")),localStorage.setItem("selectList",JSON.stringify(this.checkedList)),console.log(JSON.parse(localStorage.getItem("selectList"))),this.getSelectCart(JSON.parse(localStorage.getItem("selectList"))),it.$emit("updateCart",this.checkedList)}))})).catch((t=>{this.$toast.fail(t)}))},handleChange(t){this.$emit("change",t)}}},js=Fs,Es=(0,l.A)(js,Bs,Ts,!1,null,"369122ab",null),Us=Es.exports,Ds=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("van-form",[e("van-cell-group",{attrs:{inset:""}},[e("van-field",{attrs:{name:"uploader",label:"头像设置"},scopedSlots:t._u([{key:"input",fn:function(){return[e("van-uploader",{model:{value:t.uploader,callback:function(e){t.uploader=e},expression:"uploader"}})]},proxy:!0}])}),e("van-field",{attrs:{label:"用户名",placeholder:"请输入用户名",required:"",error:""===t.userName},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}}),e("van-field",{attrs:{type:"tel",label:"手机号",placeholder:"请输入手机号",required:"",error:""===t.phoneNumber},model:{value:t.phoneNumber,callback:function(e){t.phoneNumber=e},expression:"phoneNumber"}}),e("van-field",{attrs:{center:"",clearable:"",label:"短信验证码",placeholder:"请输入短信验证码",required:"",error:""===t.myCode},scopedSlots:t._u([{key:"button",fn:function(){return[e("van-button",{attrs:{size:"small",type:"primary"},on:{click:t.sendCode}},[!0===t.flag?e("span",[t._v("获取验证码")]):e("span",[t._v(t._s(t.num)+"秒后重新获取")])])]},proxy:!0}]),model:{value:t.myCode,callback:function(e){t.myCode=e},expression:"myCode"}})],1),e("van-button",{staticClass:"button",attrs:{type:"primary",size:"large",block:""},on:{click:t.reg}},[t._v("注册")])],1)],1)},Rs=[],Qs={data(){return{uploader:[{url:"https://img01.yzcdn.cn/vant/leaf.jpg"}],userName:"",phoneNumber:"",myCode:"",timer:null,flag:!0,internalNum:60}},computed:{...(0,g.aH)("user",["user","code"]),safeUser(){return this.user||[]},safecurrentCode(){return this.currentCodu||{}},num:{get(){return this.internalNum}}},methods:{...(0,g.i0)("user",["verCode","register"]),reg(){this.register({userName:this.userName,phoneNumber:this.phoneNumber,code:this.myCode,img:this.uploader}).then((t=>{this.$toast(t.data),this.$router.push("/login")})).catch((t=>{this.$toast.fail(t.response.data||"请输入完整数据"),console.log(t)}))},sendCode(){console.log(Boolean(this.timer)),this.timer||(this.verCode({phoneNumber:this.phoneNumber}),this.$toast("验证码已发送"),this.flag=!1,this.timer=setInterval((()=>{this.internalNum--,0===this.internalNum&&(this.flag=!0,this.internalNum=60,clearInterval(this.timer),this.timer=null)}),1e3))}},created(){},beforeDestroy(){clearInterval(this.timer)}},Ys=Qs,Vs=(0,l.A)(Ys,Ds,Rs,!1,null,"f8c683b2",null),Gs=Vs.exports,Ws=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("Slider",{attrs:{images:[t.$route.query.img]}}),e("van-cell-group",[e("van-cell",{attrs:{title:""+t.$route.query.price,value:`已售出${t.$route.query.sell}件`,label:`库存${t.$route.query.count}件`},scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{staticClass:"price"},[t._v("￥"+t._s(t.$route.query.price))])]},proxy:!0}])})],1),e("van-grid",{attrs:{direction:"horizontal","column-num":3}},[e("a",{attrs:{href:"javascript:;"}},t._l(t.color,(function(a){return e("van-grid-item",{key:a,attrs:{icon:"photo-o"}},[e("img",{attrs:{src:t.$route.query.img,alt:""}})])})),1),e("van-grid-item",{attrs:{icon:"photo-o",text:"文字"}},[t._v(" "+t._s(t.color.length)+"款可选 ")])],1),t._l(t.list,(function(a){return e("van-cell-group",{key:a.gift_id},[a.gift_id?e("van-cell",{attrs:{title:t.$route.query.name,label:"赠品："+a.gift_name}}):t._e()],1)})),t.list.length?t._e():e("van-cell",{attrs:{title:t.$route.query.name,label:"赠品：无"}}),e("van-cell-group",[e("van-cell",{attrs:{label:"当天下单当天发货，晚到包赔"},scopedSlots:t._u([{key:"title",fn:function(){return t._l(t.serve,(function(a){return e("span",{key:a,staticClass:"serve"},[t._v(t._s(a))])}))},proxy:!0}])})],1),e("ShopListBottom",{attrs:{set:t.set}})],2)},Ks=[],Xs={mounted(){ss()("body,html").scrollTop(0)},created(){this.list="object"===typeof this.$route.query.gifts?this.$route.query.gifts:JSON.parse(this.$route.query.gifts),this.serve="object"===typeof this.$route.query.other?this.$route.query.other:JSON.parse(this.$route.query.other),this.color="object"===typeof this.$route.query.color?this.$route.query.color:JSON.parse(this.$route.query.color),this.sizes="object"===typeof this.$route.query.sizes?this.$route.query.sizes:JSON.parse(this.$route.query.sizes)},data(){return{list:[],serve:[],colors:[],sizes:[]}},methods:{set(){if(!this.$route.query)throw it.$emit("set",{}),new Error("set query is empty");it.$emit("set",this.$route.query)}}},Zs=Xs,tr=(0,l.A)(Zs,Ws,Ks,!1,null,"3105f9e1",null),er=tr.exports,ar=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("van-cell",{attrs:{title:"买家评价",icon:"shop-o"},scopedSlots:t._u([{key:"right-icon",fn:function(){return[e("van-icon",{staticClass:"search-icon",attrs:{name:"search"}})]},proxy:!0}])})],1)},sr=[],rr={},ir=rr,nr=(0,l.A)(ir,ar,sr,!1,null,"01351cd0",null),or=nr.exports,lr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("van-empty",{staticClass:"custom-image",attrs:{image:"https://img01.yzcdn.cn/vant/custom-empty-image.png",description:"购物车空空如也"}})],1)},cr=[],ur={},hr=ur,dr=(0,l.A)(hr,lr,cr,!1,null,null,null),pr=dr.exports,mr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("van-goods-action",[e("van-goods-action-icon",{attrs:{icon:"chat-o",text:"客服",color:"#ee0a24"}}),e("van-goods-action-icon",{attrs:{icon:"cart-o",badge:0===t.num?null:t.num,text:"购物车"},on:{click:t.toCart}}),e("van-goods-action-icon",{attrs:{icon:"star",text:"已收藏",color:"#ff5000"}}),e("van-goods-action-button",{attrs:{type:"warning",text:"加入购物车"},on:{click:t.addCart}}),e("van-goods-action-button",{attrs:{type:"danger",text:"立即购买"},on:{click:t.buy}})],1)],1)},gr=[],fr={methods:{addCart(){this.makeShow(),this.set()},buy(){this.makeShow(),this.set()},...(0,g.PY)("cart",["makeShow"]),...(0,g.i0)("cart",["getCart"]),toCart(){this.$router.push("/cart")}},computed:{...(0,g.aH)("cart",["cart","show"])},props:{set:Function},data(){return{num:null}},created(){this.num=JSON.parse(localStorage.getItem("cart")).length}},vr=fr,yr=(0,l.A)(vr,mr,gr,!1,null,"2d5936a6",null),_r=yr.exports,kr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("van-sku",{attrs:{value:t.show,sku:t.sku,goods:t.goods,"reset-selected-sku-on-hide":"","reset-stepper-on-hide":""},on:{"buy-clicked":t.onBuyClicked,"add-cart":t.onAddCartClicked,close:t.makeHide,"stepper-change":t.num,changeCart:t.changeCart}})],1)},Sr=[],br={data(){return{sku:{tree:[{k:"颜色",k_s:"s1",v:[],largeImageMode:!1},{k_s:"s2",k:"尺寸",v:[]}],price:null,stock_num:null,messages:[{datetime:"0",multiple:"0",name:"留言",type:"text",required:"1",placeholder:"",extraDesc:""}],list:[]},goods:{picture:""},listArray:[],purchaseNum:1,other:[],needPayMoney:0,currentMoney:0,lastMoney:0}},methods:{onAddCartClicked(t){const e=t.selectedSkuComb,a=e.s1,s=e.s2,r={phoneNumber:JSON.parse(localStorage.getItem("msg")).phoneNumber,productId:e.id,color:JSON.parse(this.listArray.color)[a],size:JSON.parse(this.listArray.sizes)[s].size,price:e.price/100,name:e.name,img:e.imgUrl,quantity:this.purchaseNum,other:e.other};this.addCart(r),this.getCart(JSON.parse(localStorage.getItem("msg")).phoneNumber),this.getCart(JSON.parse(localStorage.getItem("msg")).phoneNumber).then((t=>{console.log(t),t.data.data.forEach((t=>{t.productId.startsWith("undefined")&&(t.productId.replace(/'undefined'/g,+new Date),console.log(t.productId))})),localStorage.setItem("cart",JSON.stringify(t.data.data))})),this.makeHide(),this.$router.push("/cart")},hiden(){this.makeHide()},num(t){console.log(t),this.purchaseNum=t},...(0,g.PY)("cart",["makeShow","makeHide"]),...(0,g.i0)("cart",["addCart","getCart"]),setList(t){this.sku.list=[];const e=JSON.parse(t.color),a=JSON.parse(t.sizes),s=JSON.parse(t.other);e.forEach(((r,i)=>{a.forEach(((r,n)=>{const o={id:t.id+`${i}${n}`,s1:i,s2:n,price:100*t.price+1e3*n,stock_num:parseInt(t.count/(e.length*a.length)),name:t.name,imgUrl:t.img,other:s};this.sku.list.push(o)}))}))},setSku(t){if(this.sku.tree[0].v=[],this.sku.tree[1].v=[],!t)return new Error("val is not defined");this.sku.id=t.id,this.sku.other=t.other,this.goods.picture=t.img,this.sku.price=t.price,this.sku.stock_num=Number(t.count),JSON.parse(t.color).forEach(((e,a)=>{const s={id:a,name:e,imgUrl:t.img};this.sku.tree[0].v.push(s)})),JSON.parse(t.sizes).forEach(((t,e)=>{const a={id:e,name:t.size,price:"均码"===t.size||"S"===t.size?0:20};this.sku.tree[1].v.push(a)}))},onBuyClicked(){this.needPayMoney=this.sku.price*this.purchaseNum*100,this.currentMoney=JSON.parse(localStorage.getItem("msg")).totalAssets,this.lastMoney=this.currentMoney-this.needPayMoney,this.currentMoney<this.needPayMoney?this.$toast.fail("余额不足"):(localStorage.setItem("msg",JSON.stringify({totalAssets:this.lastMoney,phoneNumber:JSON.parse(localStorage.getItem("msg")).phoneNumber,userName:JSON.parse(localStorage.getItem("msg")).userName})),this.$toast.success("支付成功"),this.makeHide())},changeCart(t){this.checked=t.filter((t=>t.productId)),localStorage.setItem("selectCart",JSON.stringify(this.checked))}},computed:{...(0,g.aH)("cart",["show","cart"])},created(){this.makeHide(),it?it.$on("set",(t=>{this.listArray=t,this.setSku(t),this.setList(t)})):console.log("Bus is not defined")},beforeDestroy(){it&&it.$off("set")}},Ar=br,Cr=(0,l.A)(Ar,kr,Sr,!1,null,null,null),Nr=Cr.exports,xr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("van-form",[e("van-cell-group",{attrs:{inset:""}},[e("van-field",{attrs:{type:"tel",label:"手机号",placeholder:"请输入手机号",required:"",error:""===this.phoneNumber},model:{value:t.phoneNumber,callback:function(e){t.phoneNumber=e},expression:"phoneNumber"}}),e("van-field",{attrs:{center:"",clearable:"",label:"短信验证码",placeholder:"请输入短信验证码",required:"",error:""===this.myCode},scopedSlots:t._u([{key:"button",fn:function(){return[e("van-button",{attrs:{size:"small",type:"primary"},on:{click:t.sendCode}},[!0===t.flag?e("span",[t._v("获取验证码")]):e("span",[t._v(t._s(t.num)+"秒后重新获取")])])]},proxy:!0}]),model:{value:t.myCode,callback:function(e){t.myCode=e},expression:"myCode"}})],1),e("van-button",{staticClass:"button",attrs:{type:"primary",size:"large",block:""},on:{click:t.log}},[t._v("手机号快捷登录")])],1)],1)},wr=[],Ir={computed:{...(0,g.aH)("user",["user","code"]),safeUser(){return this.user||[]},num:{get(){return this.internalNum},set(t){this.internalNum=t}}},methods:{...(0,g.i0)("user",["login","verCode","currentUser"]),log(){this.login({phoneNumber:this.phoneNumber,code:this.myCode}).then((t=>{this.$toast(t.data.message),this.$router.push({path:"/my",query:{uploader:t.data.data.uploader,userName:t.data.data.userName,totalAssets:t.data.data.totalAssets,phoneNumber:t.data.data.phoneNumber}}),localStorage.setItem("msg",JSON.stringify({uploader:t.data.data.uploader,userName:t.data.data.userName,totalAssets:t.data.data.totalAssets,phoneNumber:t.data.data.phoneNumber}))})).catch((t=>{console.log(t),this.$toast(t.response.data.message)}))},sendCode(){this.timer||(this.verCode({phoneNumber:this.phoneNumber}),this.$toast("验证码已发送"),this.flag=!1,this.timer=setInterval((()=>{this.internalNum--,0===this.internalNum&&(this.flag=!0,this.internalNum=60,clearInterval(this.timer),this.timer=null)}),1e3))}},data(){return{phoneNumber:"",myCode:"",timer:null,flag:!0,internalNum:60}},created(){},beforeDestroy(){clearInterval(this.timer)}},Or=Ir,$r=(0,l.A)(Or,xr,wr,!1,null,"3c44c554",null),zr=$r.exports,Jr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("van-nav-bar",{attrs:{"left-arrow":""},on:{"click-left":t.goBack},scopedSlots:t._u([{key:"title",fn:function(){return[e("van-search",{attrs:{placeholder:"搜索"},on:{input:t.goSearch},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]},proxy:!0}])})],1)},Lr=[];function qr(t,e){let a=null;return function(...s){const r=this;a&&clearTimeout(a),a=setTimeout((()=>t.apply(r,s)),e)}}var Mr={methods:{goBack(){this.$router.go(-1),localStorage.removeItem("search")},handleSearch(){it.$on("history",(()=>{this.history=[]})),"/searchrecommond"===this.$route.path&&this.$router.push("/searchcontent"),this.searchList=this.all.filter((t=>t.name.includes(this.search))),it.$emit("search",this.searchList),localStorage.setItem("search",JSON.stringify({search:this.search,list:this.searchList})),this.history.includes(this.search)||""===this.search.trim()||(this.history.push(this.search),localStorage.setItem("history",JSON.stringify(this.history)))},goSearch:qr((function(){this.handleSearch()}),1e3),...(0,g.i0)("all",["getAll"])},computed:{...(0,g.aH)("all",["all"])},created(){this.getAll(),this.search=JSON.parse(localStorage.getItem("search"))?JSON.parse(localStorage.getItem("search")).search:"",it.$on("record",(t=>{this.search=t,this.handleSearch()}))},data(){return{searchList:[],search:"",timer:null,history:[]}},beforeDestroy(){it.$off("history"),it.$off("search")},watch:{$route(t){"/searchrecommond"===t.path&&(this.search="")}}},Pr=Mr,Hr=(0,l.A)(Pr,Jr,Lr,!1,null,"1c9bf7b4",null),Br=Hr.exports,Tr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("van-cell",{attrs:{title:"历史记录"},scopedSlots:t._u([{key:"right-icon",fn:function(){return[e("van-icon",{staticClass:"deleteItem",attrs:{name:"delete-o"},on:{click:t.clearHistory}})]},proxy:!0}])}),e("div",{staticClass:"history-content"},t._l(t.historyList,(function(a){return e("span",{key:a,staticClass:"history-title",on:{click:function(e){return t.goSearch(a)}}},[t._v(t._s(a))])})),0)],1)},Fr=[],jr={data(){return{historyList:[]}},created(){this.historyList=JSON.parse(localStorage.getItem("history"))||[]},methods:{clearHistory(){localStorage.setItem("history",JSON.stringify([])),this.historyList=[],it.$emit("history",[])},goSearch(t){this.$router.push("/searchcontent"),it.$emit("record",t)}}},Er=jr,Ur=(0,l.A)(Er,Tr,Fr,!1,null,"651aa1a9",null),Dr=Ur.exports,Rr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("van-tabs",{on:{click:t.changeActive},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.list,(function(a){return e("van-tab",{key:a.id,scopedSlots:t._u([{key:"title",fn:function(){return[e("van-icon",{attrs:{name:a.icon}}),t._v(t._s(a.title)+" ")]},proxy:!0}],null,!0)},[e("van-list",{attrs:{finished:t.finished},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.listArray,(function(a,s){return e("router-link",{key:a.id,attrs:{to:{path:"/singleshop",query:{name:a.name,price:a.price,img:a.image,original_price:a.original_price,status_desc:a.status_desc,gifts:JSON.stringify(a.gifts),other:JSON.stringify(a.other),sell:a.sell,count:a.count,color:JSON.stringify(a.color),sizes:JSON.stringify(a.sizes),id:a.id}}}},[e("van-cell",{attrs:{title:a.name},scopedSlots:t._u([{key:"right-icon",fn:function(){return[t._v(" 热度"+t._s(a.sell)),e("van-icon",{attrs:{name:"fire-o"}})]},proxy:!0},{key:"icon",fn:function(){return[e("span",{staticClass:"place"},[t._v(t._s(s+1))])]},proxy:!0}],null,!0)})],1)})),1)],1)})),1)],1)},Qr=[],Yr={data(){return{list:[{id:0,title:"今日热搜",icon:"fire"},{id:1,title:"穿搭推荐",icon:""},{id:2,title:"明星同款",icon:""},{id:3,title:"什么东西",icon:""}],currentList:[],active:0,loading:!1,finished:!1,page:1,size:12,totalItems:0,listArray:[]}},computed:{},created(){this.currentList=JSON.parse(localStorage.getItem("searchRecommond"))||this.all.sort(((t,e)=>e.sell-t.sell)).slice(0,15),this.active=Number(localStorage.getItem("searchRActive"))||0,this.getAll({offset:this.page,size:this.size})},methods:{...(0,g.i0)("all",["getAll"]),randomArray(t,e){return[...t].sort((()=>Math.random()-.5)).slice(0,e)},changeActive(t){switch(localStorage.setItem("searchRActive",t),t){case 1:this.listArray=this.randomArray(this.listArray);break;case 2:this.listArray=this.listArray.filter((t=>"热卖中"===t.status_desc));break;case 3:this.listArrayentList=this.randomArray(this.listArray);break;default:this.listArray=this.listArray.sort(((t,e)=>e.sell-t.sell));break}localStorage.setItem("searchRecommond",JSON.stringify(this.currentList))},async onLoad(){try{this.loading=!0;const t=await this.getAll({offset:this.page,size:this.size});this.totalItems=t.data.data.total,this.listArray.push(...t.data.data.data),this.page+=1,this.listArray.length>=this.totalItems&&(this.finished=!0)}catch(t){return console.log(t),void(this.finished=!0)}finally{this.loading=!1}}}},Vr=Yr,Gr=(0,l.A)(Vr,Rr,Qr,!1,null,"9ce3b58e",null),Wr=Gr.exports;s["default"].component("TabNav",Oa),s["default"].component("HeadBar",Ma),s["default"].component("SideNav",ja),s["default"].component("Slider",Ya),s["default"].component("Produce",Za),s["default"].component("Layout",os),s["default"].component("AllMoney",ps),s["default"].component("MyOrder",_s),s["default"].component("UserManage",Ns),s["default"].component("Recommend",zs),s["default"].component("CartTitle",Hs),s["default"].component("CartList",Us),s["default"].component("UserForm",Gs),s["default"].component("ShopList",er),s["default"].component("Comment",or),s["default"].component("CartEmpty",pr),s["default"].component("ShopListBottom",_r),s["default"].component("ShopListChose",Nr),s["default"].component("UserFormLogin",zr),s["default"].component("SearchTitle",Br),s["default"].component("SearchHistory",Dr),s["default"].component("SearchRecommond",Wr),s["default"].prototype.$axios=Le,s["default"].config.productionTip=!1,new s["default"]({router:Et,store:$e,render:t=>t(u)}).$mount("#app")}},e={};function a(s){var r=e[s];if(void 0!==r)return r.exports;var i=e[s]={exports:{}};return t[s].call(i.exports,i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,s,r,i){if(!s){var n=1/0;for(u=0;u<t.length;u++){s=t[u][0],r=t[u][1],i=t[u][2];for(var o=!0,l=0;l<s.length;l++)(!1&i||n>=i)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(o=!1,i<n&&(n=i));if(o){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[s,r,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var r,i,n=s[0],o=s[1],l=s[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(l)var u=l(a)}for(e&&e(s);c<n.length;c++)i=n[c],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(u)},s=self["webpackChunkonline_shop"]=self["webpackChunkonline_shop"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(4795)}));s=a.O(s)})();
//# sourceMappingURL=app.49ed11bc.js.map